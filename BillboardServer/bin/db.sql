CREATE SCHEMA IF NOT EXISTS `cab302` DEFAULT CHARACTER SET utf8 ;
USE `cab302` ;
CREATE TABLE IF NOT EXISTS `cab302`.`user` (`username` VARCHAR(45) NOT NULL,`password` VARCHAR(45) NOT NULL,`permission` VARCHAR(45) NOT NULL,`administrator` BOOLEAN DEFAULT false,`create_billboards` BOOLEAN DEFAULT false,`edit_all_billboards` BOOLEAN DEFAULT false,`schedule_billboards` BOOLEAN DEFAULT false,`edit_users` BOOLEAN DEFAULT false,PRIMARY KEY (`username`));
CREATE TABLE IF NOT EXISTS `cab302`.`billboard` (`name_billboard` VARCHAR(45) NOT NULL,`xml_data` LONGBLOB NOT NULL,`username` VARCHAR(45) NOT NULL,`create_date` DATETIME NOT NULL  DEFAULT ( CURRENT_TIMESTAMP() ),PRIMARY KEY (`name_billboard`));
CREATE TABLE IF NOT EXISTS `cab302`.`schedule`(`id_schedule` INT NOT NULL AUTO_INCREMENT,`name_billboard` VARCHAR(45) NOT NULL,`date_time_start` DATETIME,`date_time_finish` DATETIME,`schedule_create_by` VARCHAR (255),`schedule_create_date` DATETIME NOT NULL DEFAULT ( CURRENT_TIMESTAMP() ),PRIMARY KEY (`id_schedule`));
CREATE TABLE IF NOT EXISTS `cab302`.`salt` (`username` VARCHAR(45) NOT NULL,`salt` VARCHAR(45) NOT NULL,PRIMARY KEY (`username`),FOREIGN KEY (`username`)REFERENCES `cab302`.`user` (`username`));
INSERT INTO `cab302`.`user` VALUE ('admin', '520C5ABDB44D0A2E2D21FDD7E8DF8E7B', 'Edit Users',true, true, true, true, true)ON DUPLICATE KEY UPDATE `username`='admin';
INSERT INTO `cab302`.`salt` VALUE ('admin', '2DC6778D0543CED3025A37B6040390CF')ON DUPLICATE KEY UPDATE `username`='admin';